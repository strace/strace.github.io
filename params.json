{
  "name": "strace",
  "tagline": "linux syscall tracer",
  "body": "**strace** is a diagnostic, debugging and instructional userspace utility for Linux.\r\nIt is used to monitor and tamper with interactions between processes\r\nand the Linux kernel, which include system calls, signal deliveries,\r\nand changes of process state.\r\n\r\nSystem administrators, diagnosticians and trouble-shooters will find\r\nit invaluable for solving problems with\r\nprograms for which the source is not readily available since\r\nthey do not need to be recompiled in order to trace them.\r\n\r\nThe operation of strace is made possible\r\nby the kernel feature known as [ptrace](https://en.wikipedia.org/wiki/ptrace).\r\n\r\n# Some of the features\r\n\r\n## Attach to an already running process.\r\n```\r\n$ strace -p 26380\r\nstrace: Process 26380 attached\r\n...\r\n```\r\n\r\n## Count time, calls, and errors for each system call.\r\n```                                                                                                                                                                                            \r\n$ strace -c ls > /dev/null\r\n% time     seconds  usecs/call     calls    errors syscall\r\n------ ----------- ----------- --------- --------- ----------------\r\n 89.76    0.008016           4      1912           getdents\r\n  8.71    0.000778           0     11778           lstat\r\n  0.81    0.000072           0      8894           write\r\n  0.60    0.000054           0       943           open\r\n  0.11    0.000010           0       942           close\r\n  0.00    0.000000           0         1           read\r\n  0.00    0.000000           0       944           fstat\r\n  0.00    0.000000           0         8           mmap\r\n  0.00    0.000000           0         4           mprotect\r\n  0.00    0.000000           0         1           munmap\r\n  0.00    0.000000           0         7           brk\r\n  0.00    0.000000           0         3         3 access\r\n  0.00    0.000000           0         1           execve\r\n  0.00    0.000000           0         1           sysinfo\r\n  0.00    0.000000           0         1           arch_prctl\r\n------ ----------- ----------- --------- --------- ----------------\r\n100.00    0.008930                 25440         3 total\r\n```\r\n\r\n## Filter by type of syscall.\r\n```\r\n-e trace=desc       Trace all file descriptor related system calls.\r\n         file       Trace  all  system  calls  which take a file name as an argument.\r\n         ipc        Trace all IPC related system calls.\r\n         memory     Trace all memory mapping related system calls.\r\n         network    Trace all the network related system calls.\r\n         process    Trace all system calls which involve process management.\r\n         signal     Trace all signal related system calls.\r\n```\r\n\r\n## Perform a full hexadecimal and ASCII dump of all the data read from/written to file descriptors.\r\n```\r\n$ strace -ewrite=1 -e trace=sendmsg ./recvmsg > /dev/null\r\nsendmsg(1, {msg_name=NULL, msg_namelen=0, msg_iov=[{iov_base=\"012\", iov_len=3},\r\n{iov_base=\"34567\", iov_len=5}, {iov_base=\"89abcde\", iov_len=7}], msg_iovlen=3,\r\nmsg_controllen=0, msg_flags=0}, 0) = 15\r\n * 3 bytes in buffer 0\r\n | 00000  30 31 32                                          012              |\r\n * 5 bytes in buffer 1\r\n | 00000  33 34 35 36 37                                    34567            |\r\n * 7 bytes in buffer 2\r\n | 00000  38 39 61 62 63 64 65                              89abcde          |\r\n+++ exited with 0 +++\r\n```\r\n\r\n## Perform a syscall fault injection.\r\n```\r\n$ strace -e trace=open -e fault=open cat\r\nopen(\"/etc/ld.so.cache\", O_RDONLY|O_CLOEXEC) = -1 ENOSYS (Function not implemented) (INJECTED)\r\nopen(\"/lib/x86_64-linux-gnu/tls/x86_64/libc.so.6\", O_RDONLY|O_CLOEXEC) = -1 ENOSYS (Function not implemented) (INJECTED)\r\nopen(\"/lib/x86_64-linux-gnu/tls/libc.so.6\", O_RDONLY|O_CLOEXEC) = -1 ENOSYS (Function not implemented) (INJECTED)\r\nopen(\"/lib/x86_64-linux-gnu/x86_64/libc.so.6\", O_RDONLY|O_CLOEXEC) = -1 ENOSYS (Function not implemented) (INJECTED)\r\nopen(\"/lib/x86_64-linux-gnu/libc.so.6\", O_RDONLY|O_CLOEXEC) = -1 ENOSYS (Function not implemented) (INJECTED)\r\ncat: error while loading shared libraries: libc.so.6: cannot open shared object file: Error 38\r\n+++ exited with 127 +++\r\n```\r\n\r\n# Get latest strace and contribute\r\n* Official repositories are at [Sourceforge](https://sourceforge.net/p/strace/code/ci/master/tree/) and [Github](https://github.com/strace/strace).\r\n* You can get latest packages from [Fedora rawhide](https://apps.fedoraproject.org/packages/strace) or [OBS](https://build.opensuse.org/package/show/home:ldv_alt/strace/).\r\n* Mailing list: strace-devel@lists.sourceforge.net.",
  "google": "",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}